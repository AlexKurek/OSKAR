<?xml version="1.0" encoding="UTF-8"?>

<s k="image"><label>Image settings</label>
    <desc>These settings are used when running the OSKAR imager.</desc>
    <s k="double_precision"><label>Use double precision</label>
        <type name="bool" default="true"/>
        <desc>Determines whether double precision arithmetic is used.</desc>
    </s>
    <s k="cuda_device_ids"><label>CUDA device IDs to use</label>
        <type name="IntListExt" default="all">all</type>
        <desc>A comma-separated string containing device (GPU) IDs to use on
            a multi-GPU system, or 'all' to use all devices.</desc>
    </s>
    <s k="fov_deg"><label>Field-of-view [deg]</label>
        <type name="UnsignedDouble" default="2.0"/>
        <desc>Total field of view in degrees.</desc>
    </s>
    <s k="size"><label>Image dimension [pixels]</label>
        <type name="IntPositive" default="256"/>
        <desc>Image width in one dimension (e.g. a value of 256 would give a
            256 by 256 image).</desc>
    </s>
    <s k="image_type"><label>Image type</label>
        <type name="OptionList" default="I">
            "Linear (XX,XY,YX,YY)",XX,XY,YX,YY,"Stokes (I,Q,U,V)",I,Q,U,V,PSF
        </type>
        <desc>The type of image to generate. Note that the Stokes parameter
            images (if selected) are uncalibrated, and are formed simply using
            the standard combinations of the linear polarisations:
            <ul>
                <li>I = 0.5 (XX + YY)</li>
                <li>Q = 0.5 (XX - YY)</li>
                <li>U = 0.5 (XY + YX)</li>
                <li>V = -0.5i (XY - YX)</li>
            </ul>
            The point spread function of the observation can be
            generated using the PSF option.</desc>
    </s>
    <s k="channel_snapshots"><label>Channel snapshots</label>
        <type name="bool" default="true"/>
        <desc>If true, then produce an image cube containing snapshots for each
            frequency channel. If false, then use frequency-synthesis to stack
            the channels in the final image.</desc>
    </s>
    <s k="channel_start"><label>Channel start</label>
        <type name="uint" default="0"/>
        <desc>The start channel index to include in the image or image
            cube.</desc>
    </s>
    <s k="channel_end"><label>Channel end</label>
        <type name="IntRangeExt" default="max">0,MAX,max</type>
        <desc>The end channel index to include in the image or image
            cube.</desc>
    </s>
    <s k="time_snapshots"><label>Time snapshots</label>
        <type name="bool" default="false"/>
        <desc>If true, then produce an image cube containing snapshots
            for each time step. If false, then use time-synthesis to stack
            the times in the final image.</desc>
    </s>
    <s k="time_start"><label>Time start</label>
        <type name="uint" default="0"/>
        <desc>The start time index to include in the image or image cube.</desc>
    </s>
    <s k="time_end"><label>Time end</label>
        <type name="IntRangeExt" default="max">0,MAX,max</type>
        <desc>The end time index to include in the image or image cube.</desc>
    </s>
    <s k="algorithm"><label>Algorithm</label>
        <type name="OptionList" default="FFT">FFT, DFT 2D, DFT 3D, W-projection</type>
        <desc>The type of transform used to generate the image.</desc>
    </s>
    <s k="weighting_type"><label>Weighting type</label>
        <type name="OptionList" default="Natural">Natural,Radial,Uniform</type>
        <desc>The type of visibility weighting scheme to use.</desc>
    </s>
    <s k="fft"><label>FFT options</label>
        <s k="use_gpu"><label>Use GPU for FFT</label>
            <type name="bool" default="false"/>
            <desc>If true, use the GPU to perform the FFT.</desc>
        </s>
        <s k="kernel_type"><label>Convolution kernel type</label>
        <type name="OptionList" default="Spheroidal">Spheroidal,Pillbox</type>
            <desc>The type of gridding kernel to use.</desc>
            <depends k="image/algorithm" v="FFT"/>
        </s>
        <s k="support"><label>Support size</label>
            <type name="int" default="3"/>
            <desc>The support size used for the gridding kernel.</desc>
            <depends k="image/algorithm" v="FFT"/>
        </s>
        <s k="oversample"><label>Oversample factor</label>
            <type name="int" default="100"/>
            <desc>The oversample factor used for the gridding kernel.</desc>
            <depends k="image/algorithm" v="FFT"/>
        </s>
        <logic group="OR">
            <depends k="image/algorithm" v="FFT"/>
            <depends k="image/algorithm" v="W-projection"/>
        </logic>
    </s>
    <s k="wproj"><label>W-projection options</label>
        <s k="w_planes"><label>Number of W-planes</label>
            <type name="int" default="0"/>
            <desc>The number of W-planes to use.
            Values less than 1 mean "auto".</desc>
        </s>
        <depends k="image/algorithm" v="W-projection"/>
    </s>
    <s k="direction"><label>Image centre direction</label>
        <type name="OptionList" default="Obs">
            Observation direction,"RA, Dec."
        </type>
        <desc>Specifies the direction of the image phase centre.
            <ul>
                <li>If <b>Observation direction</b> is selected, the image is
                    centred on the pointing direction of the primary beam.</li>
                <li>If <b>RA, Dec.</b> is selected, the image is centred on the
                    values of RA and Dec. found below.</li>
            </ul></desc>
        <s k="ra_deg"><label>Image centre RA (degrees)</label>
            <type name="double" default="0"/>
            <desc>The Right Ascension of the image phase centre. This value is
                used if the image centre direction is set to 'RA, Dec.'.</desc>
            <depends k="image/direction" v="RA, Dec"/>
        </s>
        <s k="dec_deg"><label>Image centre Dec. (degrees)</label>
            <type name="double" default="0"/>
            <desc>The Declination of the image phase centre. This value is used
                if the image centre direction is set to 'RA, Dec.'.</desc>
            <depends k="image/direction" v="RA, Dec"/>
        </s>
    </s>
    <s k="input_vis_data"><label>Input visibility data file</label>
        <type name="InputFile"/>
        <desc>Path to the input OSKAR visibility data file or
            Measurement Set.</desc>
    </s>
    <s k="ms_column"><label>Measurement Set column</label>
        <type name="OptionList" default="DATA">DATA,MODEL_DATA,CORRECTED_DATA</type>
        <desc>The name of the column in the Measurement Set to use,
            if applicable.</desc>
    </s>
    <s k="root_path"><label>Output image root path</label>
        <type name="OutputFile"/>
        <desc>The root filename used to save the output image. The full
            filename will be constructed as
            <code><b>&amp;lt;root&amp;gt;_&amp;lt;image_type&amp;gt;.fits
            </b></code>
        </desc>
    </s>
</s>
